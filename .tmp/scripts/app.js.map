{"version":3,"sources":["main.js","router.js","views/CollectionView.js","views/Create.js","views/CreateUsername.js","views/PostsIndex.js","views/PostsListItem.js","models/BlogPosts.js","models/Post.js"],"names":["_interopRequireDefault","obj","__esModule","_router","require","_router2","$","document","ready","window","appRouter","Backbone","history","start","Object","defineProperty","exports","value","_viewsPostsIndex","_viewsPostsIndex2","_modelsBlogPosts","_modelsBlogPosts2","_viewsCreateUsername","_viewsCreateUsername2","Router","extend","routes","initialize","html","JST","application","posts","fetch","createUsername","view","showView","index","collection","currentView","remove","render","el","module","CollectionView","View","listenTo","addChild","removeChild","sortChildren","children","model","indexOf","ItemViewConstructor","splice","$el","append","_","findWhere","_this","els","map","invoke","prototype","apply","arguments","template","create","tagName","className","events","submitMessage","e","preventDefault","username","prompt","message","val","_viewsCreate","_viewsCreate2","_viewsCollectionView","_viewsCollectionView2","_viewsPostsListItem","_viewsPostsListItem2","PostsCollectionView","PostsIndexView","createPost","postsCollectionView","PostsListItem","postsListItem","toJSON","_modelsPost","_modelsPost2","Collection","url","comparator","get","Model","defaults","createdAt","Date","now"],"mappings":"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","file":"app.js","sourcesContent":["import AppRouter from 'router';\n\n$(document).ready(function(){\n  window.appRouter = new AppRouter();\n  Backbone.history.start();\n});\n","import PostsIndex from 'views/PostsIndex';\nimport BlogPosts from 'models/BlogPosts';\nimport CreateUsername from 'views/CreateUsername';\n\nexport default Backbone.Router.extend({\n\n  routes: {\n    '': 'createUsername',\n    'index': 'index'\n  },\n\n  initialize: function(){\n    $('#container').html(JST.application);\n    this.posts = new BlogPosts();\n    this.posts.fetch();\n  },\n\n  createUsername: function(){\n    var view = new CreateUsername();\n    this.showView(view);\n  },\n\n  index: function(){\n    var view = new PostsIndex({collection: this.posts});\n    this.posts.fetch();\n    this.showView(view);\n  },\n\n\n  /*\n  * Helper functions\n  */\n\n  showView: function(view) {\n    if(this.currentView) this.currentView.remove();\n    this.currentView = view;\n    $('#container').html(view.render().el);\n    return view;\n  }\n\n});\n","var CollectionView = Backbone.View.extend({\n  initialize: function() {\n    this.listenTo(this.collection, 'add', this.addChild);\n    this.listenTo(this.collection, 'remove', this.removeChild);\n    this.listenTo(this.collection, 'sort', this.sortChildren);\n\n    this.children = [];\n  },\n\n  addChild: function(model, collection) {\n    var index = collection.indexOf(model);\n    var ItemViewConstructor = this.ItemViewConstructor || Backbone.View;\n    var view = new ItemViewConstructor({model: model});\n    this.children.splice(index, 0, view);\n    this.$el.append(view.render().el);\n  },\n\n  removeChild: function(model, collection) {\n    var view = _.findWhere(this.children, {model: model});\n    var index = this.children.indexOf(view);\n    this.children.splice(index, 1);\n    if (view) {\n      view.remove();\n    }\n  },\n\n  sortChildren: function() {\n    var els = this.collection.map((model) => {\n      var view = _.findWhere(this.children, {model: model});\n      return view.el;\n    });\n    this.$el.append(els);\n  },\n\n  remove: function() {\n    _.invoke(this.children, 'remove');\n    Backbone.View.prototype.remove.apply(this, arguments);\n  }\n});\n\nexport default CollectionView;\n","export default Backbone.View.extend({\n\n  template: JST.create,\n\n  tagName: 'form',\n\n  className: 'createView',\n\n  events: {\n    'submit': 'submitMessage'\n  },\n\n  render: function(){\n    this.$el.html(this.template());\n    return this;\n  },\n\n  submitMessage: function(e){\n    e.preventDefault();\n    if (!window.username) {\n      window.username = prompt(\"Please enter a username\");\n    }\n    this.collection.create({\n      username: window.username,\n      message: $('.js-message').val()\n    });\n    $('.js-username').val('');\n    $('.js-message').val('');\n  },\n\n});\n","export default Backbone.View.extend({\n\n  template: JST.createUsername,\n\n  tagName: 'form',\n\n  events: {\n    'submit': 'createUsername'\n  },\n\n  render: function(){\n    this.$el.html(this.template());\n    return this;\n  },\n\n  createUsername: function(e){\n    e.preventDefault();\n    window.username = $('.js-username').val();\n  }\n\n});\n","import CreatePost from 'views/Create';\nimport CollectionView from 'views/CollectionView';\nimport PostsListItem from 'views/PostsListItem';\n\n\nvar PostsCollectionView = CollectionView.extend({\n  tagName: 'ul',\n  className: 'postsList',\n  ItemViewConstructor: PostsListItem\n});\n\nvar PostsIndexView = Backbone.View.extend({\n\n  initialize: function(){\n    this.createPost = new CreatePost({\n      collection: this.collection\n    });\n\n    this.postsCollectionView = new PostsCollectionView({\n      collection: this.collection\n    });\n  },\n\n  render: function(){\n    this.$el.html(this.createPost.render().el);\n    this.$el.append(this.postsCollectionView.render().el);\n    return this;\n  },\n\n  remove: function() {\n    this.postsCollectionView.remove();\n    this.createPost.remove();\n    Backbone.View.prototype.remove.apply(this, arguments);\n  }\n\n});\n\nexport default PostsIndexView;\n","var PostsListItem = Backbone.View.extend({\n\n  tagName: 'li',\n\n  className: 'postListItem',\n\n  template: JST.postsListItem,\n\n  render: function(){\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  }\n\n});\n\nexport default PostsListItem;\n","import Post from 'models/Post';\n\nexport default Backbone.Collection.extend({\n  model: Post,\n  url: 'http://tiny-lasagna-server.herokuapp.com/collections/messagess',\n  comparator(model) {\n    return  -model.get('createdAt');\n  }\n});\n","export default Backbone.Model.extend({\n  defaults: function(){\n    return {\n      message: \"[no message]\",\n      username: \"[no username]\",\n      createdAt: Date.now(),\n    };\n  }\n});\n"],"sourceRoot":"/source/"}