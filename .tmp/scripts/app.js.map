{"version":3,"sources":["main.js","router.js","models/BlogPosts.js","models/Post.js","views/CollectionView.js","views/Create.js","views/CreateUsername.js","views/PostsIndex.js","views/PostsListItem.js"],"names":["_interopRequireDefault","obj","__esModule","_router","require","_router2","$","document","ready","window","appRouter","Backbone","history","start","Object","defineProperty","exports","value","_viewsPostsIndex","_viewsPostsIndex2","_modelsBlogPosts","_modelsBlogPosts2","_viewsCreateUsername","_viewsCreateUsername2","Router","extend","routes","initialize","html","JST","application","posts","fetch","createUsername","view","showView","index","collection","currentView","remove","render","el","module","_modelsPost","_modelsPost2","Collection","model","url","comparator","get","Model","defaults","message","username","createdAt","Date","now","CollectionView","View","listenTo","addChild","removeChild","sortChildren","children","indexOf","ItemViewConstructor","splice","$el","append","_","findWhere","_this","els","map","invoke","prototype","apply","arguments","template","create","tagName","className","events","submitMessage","e","preventDefault","localStorage","prompt","val","logout","console","log","clear","_viewsCreate","_viewsCreate2","_viewsCollectionView","_viewsCollectionView2","_viewsPostsListItem","_viewsPostsListItem2","PostsCollectionView","PostsIndexView","createPost","postsCollectionView","PostsListItem","postsListItem","toJSON"],"mappings":"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","file":"app.js","sourcesContent":["import AppRouter from 'router';\n\n$(document).ready(function(){\n  window.appRouter = new AppRouter();\n  Backbone.history.start();\n});\n","import PostsIndex from 'views/PostsIndex';\nimport BlogPosts from 'models/BlogPosts';\nimport CreateUsername from 'views/CreateUsername';\n\nexport default Backbone.Router.extend({\n\n  routes: {\n    '': 'createUsername',\n    'index': 'index'\n  },\n\n  initialize: function(){\n    $('#container').html(JST.application);\n    this.posts = new BlogPosts();\n    this.posts.fetch();\n  },\n\n  createUsername: function(){\n    var view = new CreateUsername();\n    this.showView(view);\n  },\n\n  index: function(){\n    var view = new PostsIndex({collection: this.posts});\n    this.posts.fetch();\n    this.showView(view);\n  },\n\n\n  /*\n  * Helper functions\n  */\n\n  showView: function(view) {\n    if(this.currentView) this.currentView.remove();\n    this.currentView = view;\n    $('#container').html(view.render().el);\n    return view;\n  }\n\n});\n","import Post from 'models/Post';\n\nexport default Backbone.Collection.extend({\n  model: Post,\n  url: 'http://tiny-lasagna-server.herokuapp.com/collections/messagess',\n  comparator(model) {\n    return  -model.get('createdAt');\n  }\n});\n","export default Backbone.Model.extend({\n  defaults: function(){\n    return {\n      message: \"[no message]\",\n      username: \"[no username]\",\n      createdAt: Date.now(),\n    };\n  }\n});\n","var CollectionView = Backbone.View.extend({\n  initialize: function() {\n    this.listenTo(this.collection, 'add', this.addChild);\n    this.listenTo(this.collection, 'remove', this.removeChild);\n    this.listenTo(this.collection, 'sort', this.sortChildren);\n\n    this.children = [];\n  },\n\n  addChild: function(model, collection) {\n    var index = collection.indexOf(model);\n    var ItemViewConstructor = this.ItemViewConstructor || Backbone.View;\n    var view = new ItemViewConstructor({model: model});\n    this.children.splice(index, 0, view);\n    this.$el.append(view.render().el);\n  },\n\n  removeChild: function(model, collection) {\n    var view = _.findWhere(this.children, {model: model});\n    var index = this.children.indexOf(view);\n    this.children.splice(index, 1);\n    if (view) {\n      view.remove();\n    }\n  },\n\n  sortChildren: function() {\n    var els = this.collection.map((model) => {\n      var view = _.findWhere(this.children, {model: model});\n      return view.el;\n    });\n    this.$el.append(els);\n  },\n\n  remove: function() {\n    _.invoke(this.children, 'remove');\n    Backbone.View.prototype.remove.apply(this, arguments);\n  }\n});\n\nexport default CollectionView;\n","export default Backbone.View.extend({\n\n  template: JST.create,\n\n  tagName: 'form',\n\n  className: 'createView',\n\n  events: {\n    'submit': 'submitMessage',\n    'click .logout': 'logout'\n  },\n\n  render: function(){\n    this.$el.html(this.template());\n    return this;\n  },\n\n  submitMessage: function(e){\n    e.preventDefault();\n    if (!window.localStorage.username) {\n      window.localStorage.username = prompt(\"Please enter a username\");\n    }\n    this.collection.create({\n      username: window.localStorage.username,\n      message: $('.js-message').val()\n    });\n    $('.js-username').val('');\n    $('.js-message').val('');\n  },\n\n  logout: function(){\n    console.log(window.localStorage.username);\n    window.localStorage.clear();\n  }\n\n});\n","export default Backbone.View.extend({\n\n  template: JST.createUsername,\n\n  tagName: 'form',\n\n  events: {\n    'submit': 'createUsername'\n  },\n\n  render: function(){\n    this.$el.html(this.template());\n    return this;\n  },\n\n  createUsername: function(e){\n    e.preventDefault();\n    window.localStorage.username = $('.js-username').val();\n  }\n\n});\n","import CreatePost from 'views/Create';\nimport CollectionView from 'views/CollectionView';\nimport PostsListItem from 'views/PostsListItem';\n\n\nvar PostsCollectionView = CollectionView.extend({\n  tagName: 'ul',\n  className: 'postsList',\n  ItemViewConstructor: PostsListItem\n});\n\nvar PostsIndexView = Backbone.View.extend({\n\n  initialize: function(){\n    this.createPost = new CreatePost({\n      collection: this.collection\n    });\n\n    this.postsCollectionView = new PostsCollectionView({\n      collection: this.collection\n    });\n  },\n\n  render: function(){\n    this.$el.html(this.createPost.render().el);\n    this.$el.append(this.postsCollectionView.render().el);\n    return this;\n  },\n\n  remove: function() {\n    this.postsCollectionView.remove();\n    this.createPost.remove();\n    Backbone.View.prototype.remove.apply(this, arguments);\n  }\n\n});\n\nexport default PostsIndexView;\n","var PostsListItem = Backbone.View.extend({\n\n  tagName: 'li',\n\n  className: 'postListItem',\n\n  template: JST.postsListItem,\n\n  render: function(){\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n  }\n\n});\n\nexport default PostsListItem;\n"],"sourceRoot":"/source/"}