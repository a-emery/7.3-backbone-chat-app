this.JST=this.JST||{},this.JST.application=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,n){return"<h1>Hello</h1>\n"},useData:!0}),this.JST.create=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,n){return'NEW MESSAGE!!11!1!\n\n<div class="createBar">\n<input type="text" name="message" placeholder="Blog Message" value="" class="createPostInput js-message">\n<input type="submit" value="submit">\n<a href="/7.3-backbone-chat-app/"><input type="button" value="logout" class="logout"></a>\n</div>\n'},useData:!0}),this.JST.createUsername=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,n){return'<input type="text" name="username" placeholder="Username" value="" class="createPostInput js-username">\n<input type="submit" value="submit" onclick="location.href=\'#index\';">\n'},useData:!0}),this.JST.postsListItem=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,n){var i,r=t.helperMissing,a="function",o=this.escapeExpression;return"\n<h1>"+o((i=null!=(i=t.message||(null!=e?e.message:e))?i:r,typeof i===a?i.call(e,{name:"message",hash:{},data:n}):i))+"</h1>\n<h5>"+o((i=null!=(i=t.username||(null!=e?e.username:e))?i:r,typeof i===a?i.call(e,{name:"username",hash:{},data:n}):i))+"</h5>\n"},useData:!0}),require.register("main",function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=t("router"),r=n(i);$(document).ready(function(){window.appRouter=new r["default"],Backbone.history.start()})}),require.register("router",function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("views/PostsIndex"),r=n(i),a=t("models/BlogPosts"),o=n(a),l=t("views/CreateUsername"),u=n(l);e["default"]=Backbone.Router.extend({routes:{"":"createUsername",index:"index"},initialize:function(){$("#container").html(JST.application),this.posts=new o["default"],this.posts.fetch()},createUsername:function(){var e=new u["default"];this.showView(e)},index:function(){var e=new r["default"]({collection:this.posts});this.posts.fetch(),this.showView(e)},showView:function(e){return this.currentView&&this.currentView.remove(),this.currentView=e,$("#container").html(e.render().el),e}}),s.exports=e["default"]}),require.register("models/BlogPosts",function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("models/Post"),r=n(i);e["default"]=Backbone.Collection.extend({model:r["default"],url:"http://tiny-lasagna-server.herokuapp.com/collections/messagess",comparator:function(e){return-e.get("createdAt")}}),s.exports=e["default"]}),require.register("models/Post",function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Backbone.Model.extend({defaults:function(){return{message:"[no message]",username:"[no username]",createdAt:Date.now()}}}),s.exports=e["default"]}),require.register("views/CollectionView",function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Backbone.View.extend({initialize:function(){this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.removeChild),this.listenTo(this.collection,"sort",this.sortChildren),this.children=[]},addChild:function(e,t){var s=t.indexOf(e),n=this.ItemViewConstructor||Backbone.View,i=new n({model:e});this.children.splice(s,0,i),this.$el.append(i.render().el)},removeChild:function(e,t){var s=_.findWhere(this.children,{model:e}),n=this.children.indexOf(s);this.children.splice(n,1),s&&s.remove()},sortChildren:function(){var e=this,t=this.collection.map(function(t){var s=_.findWhere(e.children,{model:t});return s.el});this.$el.append(t)},remove:function(){_.invoke(this.children,"remove"),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=n,s.exports=e["default"]}),require.register("views/Create",function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Backbone.View.extend({template:JST.create,tagName:"form",className:"createView",events:{submit:"submitMessage","click .logout":"logout"},render:function(){return this.$el.html(this.template()),this},submitMessage:function(e){e.preventDefault(),window.localStorage.username||(window.localStorage.username=prompt("Please enter a username")),this.collection.create({username:window.localStorage.username,message:$(".js-message").val()}),$(".js-username").val(""),$(".js-message").val("")},logout:function(){console.log(window.localStorage.username),window.localStorage.clear()}}),s.exports=e["default"]}),require.register("views/CreateUsername",function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Backbone.View.extend({template:JST.createUsername,tagName:"form",events:{submit:"createUsername"},render:function(){return this.$el.html(this.template()),this},createUsername:function(e){e.preventDefault(),window.localStorage.username=$(".js-username").val()}}),s.exports=e["default"]}),require.register("views/PostsIndex",function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var i=t("views/Create"),r=n(i),a=t("views/CollectionView"),o=n(a),l=t("views/PostsListItem"),u=n(l),c=o["default"].extend({tagName:"ul",className:"postsList",ItemViewConstructor:u["default"]}),d=Backbone.View.extend({initialize:function(){this.createPost=new r["default"]({collection:this.collection}),this.postsCollectionView=new c({collection:this.collection})},render:function(){return this.$el.html(this.createPost.render().el),this.$el.append(this.postsCollectionView.render().el),this},remove:function(){this.postsCollectionView.remove(),this.createPost.remove(),Backbone.View.prototype.remove.apply(this,arguments)}});e["default"]=d,s.exports=e["default"]}),require.register("views/PostsListItem",function(e,t,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Backbone.View.extend({tagName:"li",className:"postListItem",template:JST.postsListItem,render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});e["default"]=n,s.exports=e["default"]});